import java.util.ArrayList;

public class Product {
    private static int cnt=0; // initialized to 0, and will increase by 1 when the constructor is called.
    private int id;  // unique for each product and the value is set to cnt.
    private String name;
    private float price;
    private ArrayList<Integer> ratings; // ratings from different customers; default is empty.
    public Store from=null;
    public Product(String name, float price) {
        cnt++;
        this.id=cnt;
        this.name=name;
        this.price=price;
        this.ratings=new ArrayList<>();
    }
    public int getId(){return id;}
    public float getPrice(){return price;}
    public boolean setRating(int rating) {
        if (rating<=5&&rating>=1)
        {ratings.add(rating);
        return true;
        }else return false;
    }
    public float getAvgRating(){
        if (ratings.size()!=0){
            int avg=0;
            for (int i=0;i<=ratings.size();i++){
                avg+= ratings.get(i);
            }
            float up=(float) avg;
            float out;
            out=up/ratings.size();
            return out;
        }
        else return 0;

    }
    @Override
    public String toString()
    {StringBuffer str=new StringBuffer();
    str.append("Product ID ");
    str.append(id);
    str.append(",");
    str.append(name);
    str.append(", RMB ");
    String pri =String.format("%0.2f",price);
    str.append(pri);
    str.append(", Rating ");
    String rat =String.format(".1f" ,getAvgRating());
    str.append(rat);
    return str.toString();
    }



}
