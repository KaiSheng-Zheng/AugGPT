import java.util.HashMap;
public class MyCalendar {

    private int eventnum = 0;
    private int capacity;
    private int eventname;

    public MyCalendar(int capacity) {
        this.capacity = capacity;
    }

    HashMap<MyDate, String> hashMap = new HashMap<>();
    MyDate[] datearr = new MyDate[capacity];
    String[] eventarr = new String[capacity];

    public boolean addEvent(MyDate date, String eventName) {
        hashMap.put(date, eventName);
        datearr[eventnum] = date;
        eventarr[eventnum] = eventName;

        eventnum++;
        if (eventnum > capacity) {
            hashMap.remove(date);
            eventnum--;
            return false;
        } else {
            return true;
        }

    }

    public String finishNextEvent() {
        for (int i = 0; i < eventnum; i++) {
            for (int i1 = 0; i1 < eventnum - i; i1++) {
                String midstring;
                MyDate middate;
                MyDate date1 = datearr[i1];
                MyDate date2 = datearr[i1 + 1];
                if (date1.compare(date2) == 0) {
                    middate = datearr[i1];
                    datearr[i1] = datearr[i1 + 1];
                    datearr[i1 + 1] = middate;
                    midstring = eventarr[i1];
                    eventarr[i1] = eventarr[i1 + 1];
                    eventarr[i1 + 1] = midstring;
                }
                if (date1.compare(date2) == -1) {
                   char a=eventarr[i1].charAt(0);
                   char b=eventarr[i1+1].charAt(0);
                   if(a<b){
                       middate = datearr[i1];
                       datearr[i1] = datearr[i1 + 1];
                       datearr[i1 + 1] = middate;
                       midstring = eventarr[i1];
                       eventarr[i1] = eventarr[i1 + 1];
                       eventarr[i1 + 1] = midstring;
                   }
                }

            }


        }
        for(int count=eventnum-1;count>=0;count--){
            return eventarr[count];
        }
        return "NONE";
    }
}
